(this["webpackJsonpreact-web-shop"]=this["webpackJsonpreact-web-shop"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('[{"id":1,"product-name":"MEN\'S BETTER THAN NAKED&trade; JACKET","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/mens-better-than-naked-jacket-AVMH_LC9_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Men\'s","product-url":"http://www.thenorthface.com/catalog/sc-gear/men-39-s-better-than-naked-8482-jacket.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-mens/","product-cta-text":"Shop Now"},{"id":2,"product-name":"WOMEN\'S BETTER THAN NAKED&trade; JACKET","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/womens-better-than-naked-jacket-AVKL_NN4_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Women\'s","product-url":"http://www.thenorthface.com/catalog/sc-gear/women-39-s-better-than-naked-8482-jacket.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-womens/","product-cta-text":"Shop Now"},{"id":3,"product-name":"WOMEN\'S SINGLE-TRACK SHOE","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/womens-single-track-shoe-ALQF_JM3_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Running Shoes","product-url":"http://www.thenorthface.com/catalog/sc-gear/womens-single-track.html","header-top-right-url":"http://www.thenorthface.com/webapp/wcs/stores/servlet/TNFSearchResult?langId=-1&amp;storeId=207&amp;catalogId=10201&amp;searchTerm=running%20shoes","product-cta-text":"Shop Now"},{"id":4,"product-name":"Enduro Boa&reg; Hydration Pack","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/enduro-boa-hydration-pack-AJQZ_JK3_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Equipment","product-url":"http://www.thenorthface.com/catalog/sc-gear/enduro-boa.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-equipment/","product-cta-text":"Shop Now"},{"id":5,"product-name":"MEN\'S BETTER THAN NAKED&trade; JACKET","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/mens-better-than-naked-jacket-AVMH_LC9_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Men\'s","product-url":"http://www.thenorthface.com/catalog/sc-gear/men-39-s-better-than-naked-8482-jacket.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-mens/","product-cta-text":"Shop Now"},{"id":6,"product-name":"WOMEN\'S BETTER THAN NAKED&trade; JACKET","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/womens-better-than-naked-jacket-AVKL_NN4_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Women\'s","product-url":"http://www.thenorthface.com/catalog/sc-gear/women-39-s-better-than-naked-8482-jacket.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-womens/","product-cta-text":"Shop Now"},{"id":7,"product-name":"WOMEN\'S SINGLE-TRACK SHOE","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/womens-single-track-shoe-ALQF_JM3_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Running Shoes","product-url":"http://www.thenorthface.com/catalog/sc-gear/womens-single-track.html","header-top-right-url":"http://www.thenorthface.com/webapp/wcs/stores/servlet/TNFSearchResult?langId=-1&amp;storeId=207&amp;catalogId=10201&amp;searchTerm=running%20shoes","product-cta-text":"Shop Now"},{"id":8,"product-name":"Enduro Boa&reg; Hydration Pack","product-image-url":"http://images.thenorthface.com/is/image/TheNorthFace/236x204_CLR/enduro-boa-hydration-pack-AJQZ_JK3_hero.png","header-top-right-text":"Shop All","header-top-left-text":"Equipment","product-url":"http://www.thenorthface.com/catalog/sc-gear/enduro-boa.html","header-top-right-url":"http://www.thenorthface.com/en_US/shop-equipment/","product-cta-text":"Shop Now"}]')},25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),c=a.n(o),s=(a(30),a(8)),l=a(24),u=(a(35),a(36),a(9)),m=a(2);var d=function(e){var t=e.login,a=e.loginError,r=e.password,o=e.passwordError,c=e.onLoginChanged,s=e.onPasswordChanged,l=e.onSubmit,u=Object(m.g)(),d=(Object(m.h)().state||{from:{pathname:"/"}}).from;return n.a.createElement("div",null,"/"!==d.pathname&&n.a.createElement("p",null,"You must log in to view the page at ",d.pathname),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(),u.replace(d)}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputUsername"},"Username ",a&&n.a.createElement("span",{className:"text-danger"},a)),n.a.createElement("input",{value:t,type:"text",className:"form-control",id:"exampleInputUsername",placeholder:"Enter username",onChange:c,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword"},"Password ",o&&n.a.createElement("span",{className:"text-danger"},o)),n.a.createElement("input",{value:r,type:"password",className:"form-control",id:"exampleInputPassword",placeholder:"Enter Password",onChange:s,required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))},i=Object(s.b)((function(e){return{login:e.user.userLogin,loginError:e.user.userLoginError,password:e.user.userPassword,passwordError:e.user.userPasswordError}}),(function(e){return{onLoginChanged:function(t){return e({type:"USER/LOGIN_CHANGED",payload:{value:t.target.value}})},onPasswordChanged:function(t){return e({type:"USER/PASSWORD_CHANGED",payload:{value:t.target.value}})},onSubmit:function(){return e({type:"USER/SUBMIT_LOGIN_FORM"})}}}))(d);var p=function(e){var t=this,a=e.products,r=e.addToCart;function o(e,t){t.preventDefault(),r(e)}return n.a.createElement("div",{className:"product-list"},a.map((function(e){return n.a.createElement("div",{className:"card",style:{width:"18rem"},key:e.id},n.a.createElement("img",{className:"card-img-top",src:e["product-image-url"],alt:e["product-name"]}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},e["product-name"]),n.a.createElement("p",{className:"card-text"},e["header-top-right-text"]),n.a.createElement("button",{className:"btn btn-primary",onClick:o.bind(t,e.id)},"Add to cart")))})))},h=Object(s.b)((function(e){return{products:e.shop.products}}),(function(e){return{addToCart:function(t){return e({type:"SHOP/ADD_TOD_CART",payload:{id:t}})}}}))(p);var g=function(e){var t=e.products,a=e.cartItems,r=e.removeFromCart,o=e.fullName,c=e.address,s=e.onFullNameChanged,l=e.onAddressChanged,u=e.submitOrder,d=Object(m.g)();function i(e,t){t.preventDefault(),r(e)}function p(e){e.preventDefault(),u(),d.push("/products")}return n.a.createElement("div",{className:"cart"},a.length?n.a.createElement("div",{className:"cart-prod-form"},function(){var e=this;return t.map((function(t){return a.includes(t.id)&&n.a.createElement("div",{className:"card",style:{width:"18rem"},key:t.id},n.a.createElement("img",{className:"card-img-top",src:t["product-image-url"],alt:t["product-name"]}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},t["product-name"]),n.a.createElement("p",{className:"card-text"},t["header-top-right-text"]),n.a.createElement("button",{className:"btn btn-danger",onClick:i.bind(e,t.id)},"Remove")))}))}(),n.a.createElement("form",{className:"container mt-3",onSubmit:p},n.a.createElement("h5",null,"Order info:"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputFullName"},"Full Name"),n.a.createElement("input",{value:o,type:"text",className:"form-control",id:"exampleInputFullName",placeholder:"Enter Full Name",onChange:s,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputAddress"},"Address"),n.a.createElement("input",{value:c,type:"text",className:"form-control",id:"exampleInputAddress",placeholder:"Enter Address",onChange:l,required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit Order"))):n.a.createElement("p",null,"Your Cart is empty"))},E=Object(s.b)((function(e){return{products:e.shop.products,cartItems:e.shop.cartItems,fullName:e.shop.userFullName,address:e.shop.userAddress}}),(function(e){return{removeFromCart:function(t){return e({type:"SHOP/REMOVE_FROM_CART",payload:{id:t}})},onFullNameChanged:function(t){return e({type:"SHOP/FULL_NAME_CHANGED",payload:{value:t.target.value}})},onAddressChanged:function(t){return e({type:"SHOP/ADDRESS_CHANGED",payload:{value:t.target.value}})},submitOrder:function(){return e({type:"SHOP/SUBMIT_ORDER"})}}}))(g),N=a(22);var f=function(e){var t=e.loadProducts,a=e.products,o=e.cartItems,c=e.isOrderAccepted,s=e.logout,d=e.authenticated;function p(e){e.preventDefault(),s()}function g(e){var t=e.children,a=Object(l.a)(e,["children"]);return n.a.createElement(m.b,Object.assign({},a,{render:function(e){var a=e.location;return!0===d?t:n.a.createElement(m.a,{to:{pathname:"/login",state:{from:a}}})}}))}return Object(r.useEffect)((function(){t(N)}),[]),Object(r.useEffect)((function(){!0===c&&alert("Order is accepted!")}),[c]),Object(r.useEffect)((function(){!0===d&&alert("Success!")}),[d]),n.a.createElement("div",{className:"container"},n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.b,{className:"nav-link",activeClassName:"active",to:"/",exact:!0},"Home")),n.a.createElement("li",{className:"nav-item"},!0===d?n.a.createElement("a",{className:"nav-link",href:"logout",onClick:p},"Logout"):n.a.createElement(u.b,{className:"nav-link",activeClassName:"active",to:"/login"},"Login")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.b,{className:"nav-link",activeClassName:"active",to:"/products"},"Products (",a.length,")")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.b,{className:"nav-link",activeClassName:"active",to:"/cart"},"My Cart (",o.length,")"))))),n.a.createElement("h1",null,"Webshop"),n.a.createElement(m.d,null,n.a.createElement(m.b,{path:"/",exact:!0},n.a.createElement("h3",null,"Hello to Webshop!")),n.a.createElement(m.b,{path:"/login"},n.a.createElement(i,null)),n.a.createElement(g,{path:"/products"},n.a.createElement(h,null)),n.a.createElement(g,{path:"/cart"},n.a.createElement(E,null))))},w=Object(s.b)((function(e){return{authenticated:e.user.authenticated,products:e.shop.products,cartItems:e.shop.cartItems,isOrderAccepted:e.shop.isOrderAccepted}}),(function(e){return{loadProducts:function(t){return e({type:"SHOP/SAVE_DATA",payload:{data:t}})},logout:function(){return e({type:"USER/LOGOUT"})}}}))(f);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=a(10),b=a(3),S=a.n(b),A={userLogin:"",userLoginError:"",userPassword:"",userPasswordError:"",users:[{id:1,username:"vasya",password:"aysav"},{id:2,username:"petya",password:"aytep"}],authenticated:!1};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/LOGIN_CHANGED":return S()(e,{$merge:{userLogin:t.payload.value,userLoginError:""}});case"USER/PASSWORD_CHANGED":return S()(e,{$merge:{userPassword:t.payload.value,userPasswordError:""}});case"USER/SUBMIT_LOGIN_FORM":if(!e.userLogin.trim())return S()(e,{$merge:{userLogin:"",userLoginError:"cannot be empty"}});if(e.userPassword.length<5)return S()(e,{$merge:{userLoginError:"",userPasswordError:"must have at least 5 characters"}});if(e.userPassword.trim()){var a="incorrect or",r="incorrect",n=!1;return A.users.forEach((function(t){t.username===e.userLogin&&t.password===e.userPassword&&(a="login correct",r="password correct",n=!0)})),S()(e,{$merge:{authenticated:n,userLogin:"",userLoginError:a,userPassword:"",userPasswordError:r}})}return S()(e,{$merge:{userLoginError:"",userPasswordError:"cannot be empty"}});case"USER/LOGOUT":return S()(e,{$merge:{userLoginError:A.userLoginError,userPasswordError:A.userPasswordError,authenticated:!1}});default:return e}},y={products:[],cartItems:[],userFullName:"",userAddress:"",orders:[],isOrderAccepted:!1};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOP/SAVE_DATA":return S()(e,{products:{$push:t.payload.data}});case"SHOP/ADD_TOD_CART":return!t.payload.id||e.cartItems.includes(t.payload.id)?e:S()(e,{cartItems:{$push:[t.payload.id]},$merge:{isOrderAccepted:!1}});case"SHOP/REMOVE_FROM_CART":var a,r=e.cartItems.slice();return r.forEach((function(e,r){e===t.payload.id&&(a=r)})),r.splice(a,1),S()(e,{$merge:{cartItems:r}});case"SHOP/FULL_NAME_CHANGED":return S()(e,{$merge:{userFullName:t.payload.value}});case"SHOP/ADDRESS_CHANGED":return S()(e,{$merge:{userAddress:t.payload.value}});case"SHOP/SUBMIT_ORDER":return S()(e,{orders:{$push:[{id:e.orders.length+1,address:e.userAddress,fullName:e.userFullName,order:e.cartItems}]},$merge:{cartItems:y.cartItems,userFullName:y.userFullName,userAddress:y.userAddress,isOrderAccepted:!0}});default:return e}},x=Object(v.c)({user:O,shop:_}),C=a(23),T=a.n(C),L=Object(v.d)(x,Object(v.a)(T.a));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u.a,null,n.a.createElement(s.a,{store:L},n.a.createElement(w,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.d03268cd.chunk.js.map